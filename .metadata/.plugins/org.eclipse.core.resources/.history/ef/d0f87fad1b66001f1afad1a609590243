// Obter os elementos do formulário
const formEditResenha = document.getElementById('form-edit-resenha');
const formResenhaFrase = document.getElementById('resenha_frase');
const botaoEditarResenha = document.getElementById('bot-editar-resenha');
const botaoExcluirResenha = document.getElementById('bot-excluir-resenha');

// Adicionar evento de submit ao formulário de edição de resenha
formEditResenha.addEventListener('submit', function(event) {
  event.preventDefault();

  // Criar um objeto com os valores dos campos do formulário
  const formData = new FormData(formEditResenha);

  // Enviar requisição POST para o servlet
  const xhr = new XMLHttpRequest();
  xhr.open('POST', 'back-end/excluirEditar', true);
  xhr.send(formData);

  xhr.onload = function() {
    if (xhr.status === 200) {
      console.log('Resenha editada com sucesso!');
    } else {
      console.error('Erro ao editar a resenha:', xhr.statusText);
    }
  };
});

// Adicionar evento de submit ao formulário de frase de destaque
formResenhaFrase.addEventListener('submit', function(event) {
  event.preventDefault();

  // Criar um objeto com os valores dos campos do formulário
  const formData = new FormData(formResenhaFrase);

  // Enviar requisição POST para o servlet
  const xhr = new XMLHttpRequest();
  xhr.open('POST', 'back-end/excluirEditar', true);
  xhr.send(formData);

  xhr.onload = function() {
    if (xhr.status === 200) {
      console.log('Frase de destaque salva com sucesso!');
    } else {
      console.error('Erro ao salvar a frase de destaque:', xhr.statusText);
    }
  };
});

// Adicionar evento de click ao botão de excluir resenha
botaoExcluirResenha.addEventListener('click', function(event) {
  event.preventDefault();

  // Criar um objeto com o valor do campo de ID da resenha
  const id = document.getElementById('resenhaId').value;

  // Enviar requisição GET para o servlet com o parâmetro de ID
  const xhr = new XMLHttpRequest();
  xhr.open('GET', 'back-end/excluirEditar?id=' + id, true);
  xhr.send();

  xhr.onload = function() {
    if (xhr.status === 200) {
      console.log('Resenha excluída com sucesso!');
    } else {
      console.error('Erro ao excluir a resenha:', xhr.statusText);
    }
  };
});