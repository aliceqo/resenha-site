document.addEventListener('DOMContentLoaded', () => {
    console.log('JavaScript carregado e executando');
  
    const pageContainer = document.getElementById('page-container');

    // Função para carregar a página via navegação
    const loadPage = (url) => {
        fetch(url)
            .then(response => response.text())
            .then(html => {
                pageContainer.innerHTML = html;
            })
            .catch(error => console.error('Erro ao carregar a página:', error));
    };

    // Adiciona eventos de navegação aos links no nav
    document.querySelectorAll('nav a').forEach(link => {
        link.addEventListener('click', (event) => {
            event.preventDefault();
            const url = link.getAttribute('href');
            loadPage(url);
        });
    });

    // Seleciona os elementos HTML da barra de pesquisa
	document.addEventListener('DOMContentLoaded', () => {
	    console.log('JavaScript carregado e executando');
	
	    const searchInput = document.getElementById('searchInput');
	    const resultadoDiv = document.getElementById('resultado');
	
	    // Função para realizar a pesquisa e atualizar os resultados
	    const performSearch = () => {
	        // Obtém o valor do campo de input
	        const searchTerm = searchInput.value.trim();
	
	        // Verifica se o campo de input não está vazio
	        if (searchTerm !== '') {
	            // Realiza a requisição AJAX para o servlet /buscar
	            fetch('/back-end/buscar?searchInput=' + encodeURIComponent(searchTerm))
	                .then(response => response.text())
	                .then(data => {
	                    // Exibe os resultados da pesquisa
	                    resultadoDiv.innerHTML = data;
	                })
	                .catch(error => console.error('Erro ao realizar a busca:', error));
	        } else {
	            // Limpa os resultados se o campo estiver vazio
	            resultadoDiv.innerHTML = '';
	        }
	    };
	
	    // Adiciona um evento de input ao campo de busca para realizar a pesquisa em tempo real
	    searchInput.addEventListener('input', performSearch);
	});

});
